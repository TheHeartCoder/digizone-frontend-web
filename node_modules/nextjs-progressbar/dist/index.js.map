{"version":3,"sources":["../src/index.tsx"],"sourcesContent":["/**\n *\n * NProgress\n *\n */\n\nimport Router from 'next/router';\nimport * as NProgress from 'nprogress';\nimport * as PropTypes from 'prop-types';\nimport * as React from 'react';\n\nexport default function NextNProgress({\n  color = '#29D',\n  startPosition = 0.3,\n  stopDelayMs = 200,\n  height = 3,\n  showOnShallow = true,\n  options,\n  nonce,\n}: {\n  /**\n   * The color of the bar.\n   * @default \"#29D\"\n   */\n  color?: string;\n  /**\n   * The start position of the bar.\n   * @default 0.3\n   */\n  startPosition?: number;\n  /**\n   * The stop delay in milliseconds.\n   * @default 200\n   */\n  stopDelayMs?: number;\n  /**\n   * The height of the bar.\n   * @default 3\n   */\n  height?: number;\n  /**\n   * Whether to show the bar on shallow routes.\n   * @default true\n   */\n  showOnShallow?: boolean;\n  /**\n   * The other NProgress configuration options to pass to NProgress.\n   * @default null\n   */\n  options?: Partial<NProgress.NProgressOptions>;\n  /**\n   * The nonce attribute to use for the `style` tag.\n   * @default undefined\n   */\n  nonce?: string;\n}) {\n  let timer: NodeJS.Timeout | null = null;\n\n  React.useEffect(() => {\n    if (options) {\n      NProgress.configure(options);\n    }\n    Router.events.on('routeChangeStart', routeChangeStart);\n    Router.events.on('routeChangeComplete', routeChangeEnd);\n    Router.events.on('routeChangeError', routeChangeEnd);\n    return () => {\n      Router.events.off('routeChangeStart', routeChangeStart);\n      Router.events.off('routeChangeComplete', routeChangeEnd);\n      Router.events.off('routeChangeError', routeChangeEnd);\n    };\n  }, []);\n\n  const routeChangeStart = (\n    _: string,\n    {\n      shallow,\n    }: {\n      shallow: boolean;\n    }\n  ) => {\n    if (!shallow || showOnShallow) {\n      NProgress.set(startPosition);\n      NProgress.start();\n    }\n  };\n\n  const routeChangeEnd = (\n    _: string,\n    {\n      shallow,\n    }: {\n      shallow: boolean;\n    }\n  ) => {\n    if (!shallow || showOnShallow) {\n      if (timer) clearTimeout(timer);\n      timer = setTimeout(() => {\n        NProgress.done(true);\n      }, stopDelayMs);\n    }\n  };\n\n  return (\n    <style nonce={nonce}>{`\n      #nprogress {\n        pointer-events: none;\n      }\n      #nprogress .bar {\n        background: ${color};\n        position: fixed;\n        z-index: 9999;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: ${height}px;\n      }\n      #nprogress .peg {\n        display: block;\n        position: absolute;\n        right: 0px;\n        width: 100px;\n        height: 100%;\n        box-shadow: 0 0 10px ${color}, 0 0 5px ${color};\n        opacity: 1;\n        -webkit-transform: rotate(3deg) translate(0px, -4px);\n        -ms-transform: rotate(3deg) translate(0px, -4px);\n        transform: rotate(3deg) translate(0px, -4px);\n      }\n      #nprogress .spinner {\n        display: block;\n        position: fixed;\n        z-index: 1031;\n        top: 15px;\n        right: 15px;\n      }\n      #nprogress .spinner-icon {\n        width: 18px;\n        height: 18px;\n        box-sizing: border-box;\n        border: solid 2px transparent;\n        border-top-color: ${color};\n        border-left-color: ${color};\n        border-radius: 50%;\n        -webkit-animation: nprogresss-spinner 400ms linear infinite;\n        animation: nprogress-spinner 400ms linear infinite;\n      }\n      .nprogress-custom-parent {\n        overflow: hidden;\n        position: relative;\n      }\n      .nprogress-custom-parent #nprogress .spinner,\n      .nprogress-custom-parent #nprogress .bar {\n        position: absolute;\n      }\n      @-webkit-keyframes nprogress-spinner {\n        0% {\n          -webkit-transform: rotate(0deg);\n        }\n        100% {\n          -webkit-transform: rotate(360deg);\n        }\n      }\n      @keyframes nprogress-spinner {\n        0% {\n          transform: rotate(0deg);\n        }\n        100% {\n          transform: rotate(360deg);\n        }\n      }\n    `}</style>\n  );\n}\n\nNextNProgress.propTypes = {\n  color: PropTypes.string,\n  startPosition: PropTypes.number,\n  stopDelayMs: PropTypes.number,\n  height: PropTypes.number,\n  showOnShallow: PropTypes.bool,\n  options: PropTypes.object,\n  nonce: PropTypes.string,\n};\n"],"mappings":"ouBAAA,8BAMA,MAAmB,0BACnB,EAA2B,wBAC3B,EAA2B,yBAC3B,EAAuB,oBAER,WAAuB,CACpC,QAAQ,OACR,gBAAgB,GAChB,cAAc,IACd,SAAS,EACT,gBAAgB,GAChB,UACA,SAqCC,CACD,GAAI,GAA+B,KAEnC,AAAM,YAAU,IACV,IACF,AAAU,YAAU,GAEtB,UAAO,OAAO,GAAG,mBAAoB,GACrC,UAAO,OAAO,GAAG,sBAAuB,GACxC,UAAO,OAAO,GAAG,mBAAoB,GAC9B,IAAM,CACX,UAAO,OAAO,IAAI,mBAAoB,GACtC,UAAO,OAAO,IAAI,sBAAuB,GACzC,UAAO,OAAO,IAAI,mBAAoB,KAEvC,IAEH,GAAM,GAAmB,GACvB,EACA,CACE,aAIC,CACH,AAAI,EAAC,GAAW,IACd,CAAU,MAAI,GACd,AAAU,YAVW,oBAcnB,EAAiB,GACrB,EACA,CACE,aAIC,CACH,AAAI,EAAC,GAAW,IACV,IAAO,aAAa,GACxB,EAAQ,WAAW,IAAM,CACvB,AAAU,OAAK,KACd,KAZgB,kBAgBvB,MACE,iBAAC,QAAD,CAAO,MAAO,GAAQ;AAAA;AAAA;AAAA;AAAA;AAAA,sBAKJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAMJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAQa,cAAkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAkBrB;AAAA,6BACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAlIL,qBAmKxB,EAAc,UAAY,CACxB,MAAiB,SACjB,cAAyB,SACzB,YAAuB,SACvB,OAAkB,SAClB,cAAyB,OACzB,QAAmB,SACnB,MAAiB","names":[]}